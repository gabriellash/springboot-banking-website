<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>Homepage</title>
<link rel="stylesheet" href="/css/main.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.0/jquery.min.js"></script>
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" />
     <script src=
"https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>
     <script type="text/javascript">
     
    	 $(document).ready(function(){
    		 var link = 'http://localhost:8080/aservice/'+ $.cookie("serviceid");
    		 $(".updateservice").click(function() {
 	    	  //  $.cookie("servicename", $("#services").val());
 	    	   // alert( $.cookie("thename") );
 	    	    // Let's test it out
 	    	//   alert($text);
 	    	    debugger;
 	    	    $.ajax({
 	    	    	Type: 'PUT',
 	    	    	url : link,
 	    	    	success: function(result){
 	    	    		$.cookie("success", "Hooray!");
 	    	    	}
 	    	    });
 	    	});
    		 $(".deleteservice").click(function() {
    	    	  //  $.cookie("servicename", $("#services").val());
    	    	   // alert( $.cookie("thename") );
    	    	    // Let's test it out
    	    	//   alert($text);
    	    	    debugger;
    	    	    $.ajax({
    	    	    	Type: 'DELETE',
    	    	    	url : link,
    	    	    	success: function(result){
    	    	    		$.cookie("success", "Deleeeeted!");
    	    	    	}
    	    	    });
    	    	});
    		
    	        $.getJSON(link, function(data){
    	        	
    	                //	$.cookie("count", data)
    	        		//const data1 = data["_embedded"];
    	                	
    	                	//const data2 = data["_embedded"]["services"];
    	                //	$.cookie("value", "hello");
    	                //	$.cookie("count2", data2);
    	                	$("#servicename").val(data.name);
    	                	$("#serviceprice").val(data.price);
    	                	//$("#serviceprovider").val(data.serviceproviderid).change();
    	                	//$("#category").val(data.categoryid).change();
    	                	}
    	        
    	        	
    	        );
     });
    // function setcookie(){
    	// var 
    	 //var servicename = $(this).closest("tr").document.getElementById("name").innerHTML;
    	 //document.cookie = "name="+ servicename;
     //}
     </script>
</head>

<body>
<div th:replace="./fragments/navbar-user"></div>
</br>
 <div class=" flex items-center  justify-between p-4  rounded-lg bg-white shadow-indigo-50 shadow-md m-5">
        
	<form class="w-full max-w-lg " th:action="@{/process_updateservice}"  method="post" th:object="${service}" required>
		    <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
		      <label class="block tracking-wide text-black text-s font-bold mb-2">
		        Add Service 
		      </label>
		      <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-green-500 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white" id="servicename" type="text" placeholder="Service Name"  field="*{name}" required >
		
		<input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-green-500 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white" id="serviceprice" type="text" placeholder="Service Price ($)"  field="*{price}" required > 
		
		 <!--  <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-green-500 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white" id="serviceprovidernumber" type="text" placeholder="Service Provider Phone Number"  th:field="*{phone_number}" required >
		
		<input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-green-500 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white" id="serviceprovideraddress" type="text" placeholder="Service Provider Address"  th:field="*{location}" required >
		-->
		
		
			
		     <button type="submit"
	                      class="inline-block px-6 updateservice py-2 border-2 border-green-600 text-green-600 font-medium text-xs leading-tight uppercase rounded hover:bg-black hover:bg-opacity-5 focus:outline-none focus:ring-0 transition duration-150 ease-in-out"
	                      data-mdb-ripple="true"
	                      data-mdb-ripple-color="light"
	                    >
	                      Update
	                    </button> 
		    
		</form>
	         
	         <button  class="inline-block px-6 deleteservice py-2 border-2 border-green-600 text-green-600 font-medium text-xs leading-tight uppercase rounded hover:bg-black hover:bg-opacity-5 focus:outline-none focus:ring-0 transition duration-150 ease-in-out"
	                      data-mdb-ripple="true"
	                      data-mdb-ripple-color="light"
	                    > Delete  	</button>	
	          		


	            
        </div>
</body>
</html>